%--------------------------------------------------------------------
% Page-wide centered image with caption.
%--------------------------------------------------------------------
% #1: proportion of textwidth to use [optional, default: 1]
% #2: image ID
% #3: caption
\newcommand{\imgW}[3][1] {
\begin{figure}[htb]
\centering
\includegraphics[width=#1\textwidth]{img/#2}
\caption{#3}
\label{fig:#2}
\end{figure}
}


% Image with caption endign with a footnote.
% TODO: Make sure that footnote is on the same page as the figure.
\newcommand{\imgWithFootnote}[4][1] {
\begin{figure}[h]
  \begin{center}
    \includegraphics[width=#1\textwidth]{img/#2}
  \end{center}
  \caption[#2]{#3\protect\footnotemark}
  \label{fig:#2}
\end{figure}
\footnotetext{#4}
}


%--------------------------------------------------------------------
% Splitting listings into "from" and "to" part
%--------------------------------------------------------------------
\newcommand{\arrowlinesplit}{%
  \noindent\makebox[\linewidth]{\raisebox{0.15em}{\rule{0.450\textwidth}{0.5pt}}%
  ~$\downarrow$~%
  \noindent\raisebox{0.15em}{\rule{0.450\textwidth}{0.5pt}}}%
}

%--------------------------------------------------------------------
% Quotes with italics.
%--------------------------------------------------------------------
%\newenvironment{itquote}
%{\begin{quote}\itshape}
%{\end{quote}}

\newenvironment{widequote}[1]%
  {\list{}{\leftmargin=#1\rightmargin=#1}\item[]}%
  {\endlist}

\newcommand{\itquote}[3][10mm] {
\begin{widequote}{#1}
\emph{#2} (#3)
%--- #3
\end{widequote}
}

\newcommand{\itquoteright}[3][10mm] {
\begin{widequote}{#1}
\emph{#2}
\vspace{-4.5mm}
\begin{flushright}
(#3)
\end{flushright}
\end{widequote}
}


%--------------------------------------------------------------------
% Definition of JavaScript listing
% Source: https://tex.stackexchange.com/questions/89574/language-option-supported-in-listings
% Usage: \begin{lstlisting}[language=ES6] ...
%--------------------------------------------------------------------
\lstdefinelanguage{ES6}{
  keywords={%
    typeof, new, true, false, try, catch, function, return, null, %
    catch, switch, var, let, const, if, in, while, do, else, case, break, yield},
  ndkeywords={class, export, boolean, throw, implements, import, this},
  sensitive=false,
  comment=[l]{//},
  morecomment=[s]{/*}{*/},
  morestring=[b]',
  morestring=[b]"
}


%--------------------------------------------------------------------
% Hyphenation setting
%--------------------------------------------------------------------
\hyphenation{analy-sis}
\hyphenation{analy-ses}
